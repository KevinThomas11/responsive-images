(function(a){"use strict";var c,b=!1||a.localStorage&&"true"===a.localStorage["picturefill-prefHD"];a.document.createElement("picture")&&a.document.createElement("source")&&a.HTMLPictureElement||(a.picturefill=function(){for(var d=a.document.getElementsByTagName("picture"),e=0,f=d.length;f>e;e++){var g=d[e].getElementsByTagName("source"),h=null,i=[];if(!g.length){var j=d[e].innerHTML,k=a.document.createElement("div"),l=j.replace(/(<)source([^>]+>)/gim,"$1div$2").match(/<div[^>]+>/gim);k.innerHTML=l.join(""),g=k.getElementsByTagName("div")}for(var m=0,n=g.length;n>m;m++){var o=g[m].getAttribute("media");(!o||a.matchMedia&&a.matchMedia(o).matches)&&i.push(g[m])}if(h=d[e].getElementsByTagName("img")[0],i.length){var p=i.pop(),q=p.getAttribute("srcset");if(h||(h=a.document.createElement("img"),h.alt=d[e].getAttribute("alt"),d[e].appendChild(h)),q){var r=b&&a.devicePixelRatio||1,g=q.split(",");c=a.devicePixelRatio>1;for(var s=g.length,t=s-1;t>=0;t--){var u=g[t].replace(/^\s*/,"").replace(/\s*$/,"").split(" "),v=parseFloat(u[1],10);if(r>=v){if(h.getAttribute("src")!==u[0]){var w=document.createElement("img");w.src=u[0],w.onload=function(){this.width=this.cloneNode(!0).width/v},h.parentNode.replaceChild(w,h)}break}}}else h.src=p.getAttribute("src")}}},a.addEventListener?(a.addEventListener("resize",a.picturefill,!1),a.addEventListener("DOMContentLoaded",function(){a.picturefill(),a.removeEventListener("load",a.picturefill,!1)},!1),a.addEventListener("load",a.picturefill,!1)):a.attachEvent&&a.attachEvent("onload",a.picturefill))})(this);